<h1>Products</h1>
<table>
  <tr>
    <th>Name (
      <%= link_to(image_tag("icons/arrow_down.png"), params.merge(:sort_by => 'name', :sort_direction => 'DESC'))%>
      <%= link_to(image_tag("icons/arrow_up.png"), params.merge(:sort_by => 'name', :sort_direction => 'ASC'))%>)
    </th>
    <th>Price (
      <%= link_to(image_tag("icons/arrow_down.png"), params.merge(:sort_by => 'price', :sort_direction => 'DESC'))%>
      <%= link_to(image_tag("icons/arrow_up.png"), params.merge(:sort_by => 'price', :sort_direction => 'ASC'))%>)
    </th>
    <th>Desire (
      <%= link_to(image_tag("icons/arrow_down.png"), params.merge(:sort_by => 'desire', :sort_direction => 'DESC'))%>
      <%= link_to(image_tag("icons/arrow_up.png"), params.merge(:sort_by => 'desire', :sort_direction => 'ASC'))%>)
    </th>
    <th>Added (
      <%= link_to(image_tag("icons/arrow_down.png"), params.merge(:sort_by => 'created_at', :sort_direction => 'DESC'))%>
      <%= link_to(image_tag("icons/arrow_up.png"), params.merge(:sort_by => 'created_at', :sort_direction => 'ASC'))%>)
    </th>
    <th></th>
  </tr>
  <% @products.each do |product| %>
    <tr>
      <td><%= product.name %></td>
      <td><%= number_to_currency(product.price)%></td>
      <td><%= product.desire %></td>
      <td><%="#{time_ago_in_words(product.created_at)} ago "%></td>
      <td>
        <%= link_to("Edit", edit_product_path(product)) %>
        <%= link_to("Delete", product_path(product), :method => :delete) %>
      </td>
    </tr>
  <% end %>
</table>
<p><%= link_to("Add product", new_product_path) %></p>